/* Picturefill - v2.1.0 - 2014-07-25
* http://scottjehl.github.io/picturefill
* Copyright (c) 2014 https://github.com/scottjehl/picturefill/blob/master/Authors.txt; Licensed MIT */
window.matchMedia||(window.matchMedia=function(){var f=window.styleMedia||window.media;if(!f){var e=document.createElement("style"),h=document.getElementsByTagName("script")[0],g=null;e.type="text/css",e.id="matchmediajs-test",h.parentNode.insertBefore(e,h),g="getComputedStyle" in window&&window.getComputedStyle(e,null)||e.currentStyle,f={matchMedium:function(b){var d="@media "+b+"{ #matchmediajs-test { width: 1px; } }";return e.styleSheet?e.styleSheet.cssText=d:e.textContent=d,"1px"===g.width}}}return function(a){return{matches:f.matchMedium(a||"all"),media:a||"all"}}}()),function(g,f){function j(r){var q,p,o,n,m,l=r||{};q=l.elements||h.getAllElements();for(var k=0,e=q.length;e>k;k++){if(p=q[k],o=p.parentNode,n=void 0,m=void 0,p[h.ns]||(p[h.ns]={}),l.reevaluate||!p[h.ns].evaluated){if("PICTURE"===o.nodeName.toUpperCase()){if(h.removeVideoShim(o),n=h.getMatch(p,o),n===!1){continue}}else{n=void 0}("PICTURE"===o.nodeName.toUpperCase()||p.srcset&&!h.srcsetSupported||!h.sizesSupported&&p.srcset&&p.srcset.indexOf("w")>-1)&&h.dodgeSrcset(p),n?(m=h.processSourceSet(n),h.applyBestCandidate(m,p)):(m=h.processSourceSet(p),(void 0===p.srcset||p[h.ns].srcset)&&h.applyBestCandidate(m,p)),p[h.ns].evaluated=!0}}}function i(){j();var b=setInterval(function(){return j(),/^loaded|^i|^c/.test(f.readyState)?void clearInterval(b):void 0},250);if(g.addEventListener){var a;g.addEventListener("resize",function(){g._picturefillWorking||(g._picturefillWorking=!0,g.clearTimeout(a),a=g.setTimeout(function(){j({reevaluate:!0}),g._picturefillWorking=!1},60))},!1)}}if(g.HTMLPictureElement){return void (g.picturefill=function(){})}f.createElement("picture");var h={};h.ns="picturefill",h.srcsetSupported="srcset" in f.createElement("img"),h.sizesSupported=g.HTMLImageElement.sizes,h.trim=function(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")},h.endsWith=function(d,c){return d.endsWith?d.endsWith(c):-1!==d.indexOf(c,d.length-c.length)},h.matchesMedia=function(a){return g.matchMedia&&g.matchMedia(a).matches},h.getDpr=function(){return g.devicePixelRatio||1},h.getWidthFromLength=function(b){return b=b&&(parseFloat(b)>0||b.indexOf("calc(")>-1)?b:"100vw",b=b.replace("vw","%"),h.lengthEl||(h.lengthEl=f.createElement("div"),f.documentElement.insertBefore(h.lengthEl,f.documentElement.firstChild)),h.lengthEl.style.cssText="position: absolute; left: 0; width: "+b+";",h.lengthEl.offsetWidth<=0&&(h.lengthEl.style.cssText="width: 100%;"),h.lengthEl.offsetWidth},h.types={},h.types["image/jpeg"]=!0,h.types["image/gif"]=!0,h.types["image/png"]=!0,h.types["image/svg+xml"]=f.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),h.types["image/webp"]=function(){var a=new g.Image,c="image/webp";a.onerror=function(){h.types[c]=!1,j()},a.onload=function(){h.types[c]=1===a.width,j()},a.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},h.verifyTypeSupport=function(d){var c=d.getAttribute("type");return null===c||""===c?!0:"function"==typeof h.types[c]?(h.types[c](),"pending"):h.types[c]},h.parseSize=function(d){var c=/(\([^)]+\))?\s*(.+)/g.exec(d);return{media:c&&c[1],length:c&&c[2]}},h.findWidthFromSourceSize=function(r){for(var q,p=h.trim(r).split(/\s*,\s*/),o=0,n=p.length;n>o;o++){var m=p[o],l=h.parseSize(m),k=l.length,e=l.media;if(k&&(!e||h.matchesMedia(e))){q=k;break}}return h.getWidthFromLength(q)},h.parseSrcset=function(l){for(var k=[];""!==l;){l=l.replace(/^\s+/g,"");var q,p=l.search(/\s/g),o=null;if(-1!==p){q=l.slice(0,p);var n=q[q.length-1];if((","===n||""===q)&&(q=q.replace(/,+$/,""),o=""),l=l.slice(p+1),null===o){var m=l.indexOf(",");-1!==m?(o=l.slice(0,m),l=l.slice(m+1)):(o=l,l="")}}else{q=l,l=""}(q||o)&&k.push({url:q,descriptor:o})}return k},h.parseDescriptor=function(v,u){var t,s=u||"100vw",r=v&&v.replace(/(^\s+|\s+$)/g,""),q=h.findWidthFromSourceSize(s);if(r){for(var p=r.split(" "),o=p.length+1;o>=0;o--){if(void 0!==p[o]){var n=p[o],m=n&&n.slice(n.length-1);if("h"!==m&&"w"!==m||h.sizesSupported){if("x"===m){var e=n&&parseFloat(n,10);t=e&&!isNaN(e)?e:1}}else{t=parseFloat(parseInt(n,10)/q)}}}}return t||1},h.getCandidatesFromSourceSet=function(k,e){for(var p=h.parseSrcset(k),o=[],n=0,m=p.length;m>n;n++){var l=p[n];o.push({url:l.url,resolution:h.parseDescriptor(l.descriptor,e)})}return o},h.dodgeSrcset=function(b){b.srcset&&(b[h.ns].srcset=b.srcset,b.removeAttribute("srcset"))},h.processSourceSet=function(k){var e=k.getAttribute("srcset"),m=k.getAttribute("sizes"),l=[];return"IMG"===k.nodeName.toUpperCase()&&k[h.ns]&&k[h.ns].srcset&&(e=k[h.ns].srcset),e&&(l=h.getCandidatesFromSourceSet(e,m)),l},h.applyBestCandidate=function(k,e){var o,n,m;k.sort(h.ascendingSort),n=k.length,m=k[n-1];for(var l=0;n>l;l++){if(o=k[l],o.resolution>=h.getDpr()){m=o;break}}m&&!h.endsWith(e.src,m.url)&&(e.src=m.url,e.currentSrc=e.src)},h.ascendingSort=function(d,c){return d.resolution-c.resolution},h.removeVideoShim=function(k){var e=k.getElementsByTagName("video");if(e.length){for(var m=e[0],l=m.getElementsByTagName("source");l.length;){k.insertBefore(l[0],m)}m.parentNode.removeChild(m)}},h.getAllElements=function(){for(var b=[],m=f.getElementsByTagName("img"),l=0,k=m.length;k>l;l++){var e=m[l];("PICTURE"===e.parentNode.nodeName.toUpperCase()||null!==e.getAttribute("srcset")||e[h.ns]&&null!==e[h.ns].srcset)&&b.push(e)}return b},h.getMatch=function(r,q){for(var p,o=q.childNodes,n=0,m=o.length;m>n;n++){var l=o[n];if(1===l.nodeType){if(l===r){return p}if("SOURCE"===l.nodeName.toUpperCase()){null!==l.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var k=l.getAttribute("media");if(l.getAttribute("srcset")&&(!k||h.matchesMedia(k))){var e=h.verifyTypeSupport(l);if(e===!0){p=l;break}if("pending"===e){return !1}}}}}return p},i(),j._=h,"object"==typeof module&&"object"==typeof module.exports?module.exports=j:"function"==typeof define&&define.amd?define(function(){return j}):"object"==typeof g&&(g.picturefill=j)}(this,this.document);